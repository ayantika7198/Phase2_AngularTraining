{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/shared/flower.service\";\nexport class EditFlowerComponent {\n  constructor(formBuilder, router, flowerService) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.flowerService = flowerService;\n    this.pageTitle = 'Edit Flower';\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    this.addFlower = this.formBuilder.group({\n      id: ['', [Validators.required]],\n      name: ['', [Validators.required]],\n      place: ['', [Validators.required]],\n      price: [0, [Validators.required]],\n      image: [''],\n      quantity: [0, [Validators.required]]\n    });\n    this.sub = this.flowerService.selectedFlowerChanges$.subscribe(selFlow => this.displayFlower(selFlow));\n  }\n  displayFlower(flowerParam) {\n    this.flower = flowerParam;\n    if (this.flower) {\n      this.addFlower.reset();\n      this.pageTitle = `Edit Flower ${this.flower.name}`;\n      this.addFlower.patchValue({\n        id: this.flower.id,\n        name: this.flower.name,\n        place: this.flower.place,\n        price: this.flower.price,\n        image: this.flower.image,\n        quantity: this.flower.quantity\n      });\n    }\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n  get id() {\n    return this.addFlower.get(\"id\");\n  }\n  get name() {\n    return this.addFlower.get(\"name\");\n  }\n  get place() {\n    return this.addFlower.get(\"place\");\n  }\n  get price() {\n    return this.addFlower.get(\"price\");\n  }\n  get image() {\n    return this.addFlower.get(\"image\");\n  }\n  get quantity() {\n    return this.addFlower.get(\"quantity\");\n  }\n  saveFlower(originalFlower) {\n    if (this.addFlower.valid) {\n      if (this.addFlower.dirty) {\n        const flower = {\n          ...originalFlower,\n          ...this.addFlower.value\n        };\n        this.flowerService.updateFlower(flower).subscribe(resp => {\n          this.flowerService.changeSelectedFlower(resp);\n        }, err => this.errorMessage = err);\n      }\n      this.router.navigate(['flowers']);\n    }\n  }\n}\nEditFlowerComponent.ɵfac = function EditFlowerComponent_Factory(t) {\n  return new (t || EditFlowerComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.FlowerService));\n};\nEditFlowerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditFlowerComponent,\n  selectors: [[\"app-edit-flower\"]],\n  decls: 38,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"card\", \"text-center\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", \"row\"], [\"for\", \"id\", 1, \"col-sm-2\", \"col-form-label\", \"col-form-label-lg\"], [1, \"col-sm-10\"], [\"type\", \"text\", \"id\", \"id\", \"name\", \"id\", \"formControlName\", \"id\", \"placeholder\", \"Enter Flower ID\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"name\", 1, \"col-sm-2\", \"col-form-label\", \"col-form-label-lg\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"formControlName\", \"name\", \"placeholder\", \"Enter Flower Name\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"place\", 1, \"col-sm-2\", \"col-form-label\", \"col-form-label-lg\"], [\"type\", \"text\", \"id\", \"place\", \"name\", \"place\", \"formControlName\", \"place\", \"placeholder\", \"Enter Place\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"price\", 1, \"col-sm-2\", \"col-form-label\", \"col-form-label-lg\"], [\"type\", \"number\", \"id\", \"price\", \"name\", \"price\", \"formControlName\", \"price\", \"placeholder\", \"Enter Flower Price\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"image\", 1, \"col-sm-2\", \"col-form-label\", \"col-form-label-lg\"], [\"type\", \"text\", \"id\", \"image\", \"name\", \"image\", \"formControlName\", \"image\", \"placeholder\", \"Enter Flower Image URL\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"quantity\", 1, \"col-sm-2\", \"col-form-label\", \"col-form-label-lg\"], [\"type\", \"number\", \"id\", \"quantity\", \"name\", \"quantity\", \"formControlName\", \"quantity\", \"placeholder\", \"Enter Quantity of Flowers Available\", 1, \"form-control\", \"form-control-lg\"], [1, \"btn\", \"btn-success\", 3, \"disabled\"]],\n  template: function EditFlowerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵtext(3, \" EDIT FLOWER \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"form\", 4);\n      i0.ɵɵlistener(\"ngSubmit\", function EditFlowerComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.saveFlower(ctx.flower);\n      });\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"label\", 6);\n      i0.ɵɵtext(8, \"FLOWER ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 7);\n      i0.ɵɵelement(10, \"input\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 5)(12, \"label\", 9);\n      i0.ɵɵtext(13, \"FLOWER NAME\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 7);\n      i0.ɵɵelement(15, \"input\", 10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 5)(17, \"label\", 11);\n      i0.ɵɵtext(18, \"PLACE\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 7);\n      i0.ɵɵelement(20, \"input\", 12);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 5)(22, \"label\", 13);\n      i0.ɵɵtext(23, \"FLOWER PRICE\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 7);\n      i0.ɵɵelement(25, \"input\", 14);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"div\", 5)(27, \"label\", 15);\n      i0.ɵɵtext(28, \"FLOWER IMAGE\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 7);\n      i0.ɵɵelement(30, \"input\", 16);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"div\", 5)(32, \"label\", 17);\n      i0.ɵɵtext(33, \"QUANTITY AVAILABLE\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"div\", 7);\n      i0.ɵɵelement(35, \"input\", 18);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(36, \"button\", 19);\n      i0.ɵɵtext(37, \"SAVE\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.addFlower);\n      i0.ɵɵadvance(31);\n      i0.ɵɵproperty(\"disabled\", !ctx.addFlower.valid || !ctx.addFlower.dirty);\n    }\n  },\n  styles: [\".container[_ngcontent-%COMP%]{\\r\\n    width: 70%;\\r\\n    margin:auto;\\r\\n    padding: 40px;\\r\\n    background-color:skyblue;\\r\\n    border:none;\\r\\n    border-radius: 25px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmxvd2Vycy9lZGl0LWZsb3dlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksVUFBVTtJQUNWLFdBQVc7SUFDWCxhQUFhO0lBQ2Isd0JBQXdCO0lBQ3hCLFdBQVc7SUFDWCxtQkFBbUI7QUFDdkIiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVye1xyXG4gICAgd2lkdGg6IDcwJTtcclxuICAgIG1hcmdpbjphdXRvO1xyXG4gICAgcGFkZGluZzogNDBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6c2t5Ymx1ZTtcclxuICAgIGJvcmRlcjpub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMjVweDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","EditFlowerComponent","constructor","formBuilder","router","flowerService","ngOnInit","addFlower","group","id","required","name","place","price","image","quantity","sub","selectedFlowerChanges$","subscribe","selFlow","displayFlower","flowerParam","flower","reset","pageTitle","patchValue","ngOnDestroy","unsubscribe","get","saveFlower","originalFlower","valid","dirty","value","updateFlower","resp","changeSelectedFlower","err","errorMessage","navigate","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\Phase2\\demoApp\\src\\app\\flowers\\edit-flower.component.ts","D:\\Phase2\\demoApp\\src\\app\\flowers\\edit-flower.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { FlowerService } from 'src/app/shared/flower.service';\nimport { IFlower } from './flower';\n\n@Component({\n  selector: 'app-edit-flower',\n  templateUrl: './edit-flower.component.html',\n  styleUrls: ['./edit-flower.component.css']\n})\nexport class EditFlowerComponent implements OnInit,OnDestroy{\n\n  pageTitle='Edit Flower';\n  addFlower!:FormGroup;\n  errorMessage='';\n\n  flower!:IFlower | null;\n  sub!:Subscription;\n\n  constructor(private formBuilder:FormBuilder, private router:Router, private flowerService:FlowerService){}\n  ngOnInit(): void {\n    this.addFlower=this.formBuilder.group({\n      id:['',[Validators.required]],\n      name:['',[Validators.required]],\n      place:['',[Validators.required]],\n      price:[0,[Validators.required]],\n      image:[''],\n      quantity:[0,[Validators.required]]\n    });\n\n    this.sub=this.flowerService.selectedFlowerChanges$.subscribe(selFlow=>this.displayFlower(selFlow));\n\n\n  }\n\n  displayFlower(flowerParam:IFlower|null){\n    this.flower=flowerParam;\n    if(this.flower){\n      this.addFlower.reset();\n\n      this.pageTitle=`Edit Flower ${this.flower.name}`;\n\n      this.addFlower.patchValue({\n        id:this.flower.id,\n        name:this.flower.name,\n        place:this.flower.place,\n        price:this.flower.price,\n        image:this.flower.image,\n        quantity:this.flower.quantity\n      })\n    }\n  }\n  ngOnDestroy(): void {\n    this.sub.unsubscribe();\n  }\n\n  get id(){\n    return this.addFlower.get(\"id\");\n  }\n\n  get name(){\n    return this.addFlower.get(\"name\");\n  }\n\n  get place(){\n    return this.addFlower.get(\"place\");\n  }\n\n  get price(){\n    return this.addFlower.get(\"price\");\n  }\n\n  get image(){\n    return this.addFlower.get(\"image\");\n  }\n\n  get quantity(){\n    return this.addFlower.get(\"quantity\");\n  }\n\n  saveFlower(originalFlower:IFlower | null):void{\n    if(this.addFlower.valid){\n      if(this.addFlower.dirty){\n        const flower={...originalFlower,...this.addFlower.value};\n\n        this.flowerService.updateFlower(flower).subscribe(\n          (resp)=>{\n            this.flowerService.changeSelectedFlower(resp);\n          },\n          err=>this.errorMessage=err\n        )\n      }\n\n      this.router.navigate(['flowers']);\n    }\n\n  }\n\n}\n","<div class=\"container\">\n<div class=\"card text-center\">\n    <div class=\"card-header\">\n        EDIT FLOWER\n    </div>\n    <div class=\"card-body\">\n        <form [formGroup]=\"addFlower\" (ngSubmit)=\"saveFlower(flower)\">\n        <div class=\"form-group row\">\n            <label for=\"id\" class=\"col-sm-2 col-form-label col-form-label-lg\">FLOWER ID</label>\n            <div class=\"col-sm-10\">\n              <input type=\"text\" class=\"form-control form-control-lg\" id=\"id\" name=\"id\" formControlName=\"id\" placeholder=\"Enter Flower ID\">\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <label for=\"name\" class=\"col-sm-2 col-form-label col-form-label-lg\">FLOWER NAME</label>\n            <div class=\"col-sm-10\">\n              <input type=\"text\" class=\"form-control form-control-lg\" id=\"name\" name=\"name\" formControlName=\"name\" placeholder=\"Enter Flower Name\">\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <label for=\"place\" class=\"col-sm-2 col-form-label col-form-label-lg\">PLACE</label>\n            <div class=\"col-sm-10\">\n              <input type=\"text\" class=\"form-control form-control-lg\" id=\"place\" name=\"place\" formControlName=\"place\" placeholder=\"Enter Place\">\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <label for=\"price\" class=\"col-sm-2 col-form-label col-form-label-lg\">FLOWER PRICE</label>\n            <div class=\"col-sm-10\">\n              <input type=\"number\" class=\"form-control form-control-lg\" id=\"price\" name=\"price\" formControlName=\"price\" placeholder=\"Enter Flower Price\">\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <label for=\"image\" class=\"col-sm-2 col-form-label col-form-label-lg\">FLOWER IMAGE</label>\n            <div class=\"col-sm-10\">\n              <input type=\"text\" class=\"form-control form-control-lg\" id=\"image\" name=\"image\" formControlName=\"image\" placeholder=\"Enter Flower Image URL\">\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <label for=\"quantity\" class=\"col-sm-2 col-form-label col-form-label-lg\">QUANTITY AVAILABLE</label>\n            <div class=\"col-sm-10\">\n              <input type=\"number\" class=\"form-control form-control-lg\" id=\"quantity\" name=\"quantity\" formControlName=\"quantity\" placeholder=\"Enter Quantity of Flowers Available\">\n            </div>\n          </div>\n\n          <button [disabled]='!addFlower.valid ||!addFlower.dirty' class=\"btn btn-success\">SAVE</button>\n          </form>\n    </div>\n    \n  </div>\n  </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}